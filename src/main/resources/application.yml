spring:
  application:
    name: Tempest

  # H2 Database Configuration (Development)
  datasource:
    url: jdbc:h2:file:./data/tempest;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password:

  h2:
    console:
      enabled: true
      path: /h2-console

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.H2Dialect

  thymeleaf:
    cache: false

  # Task Scheduling
  task:
    scheduling:
      enabled: true
      pool:
        size: 2

  # Mail Configuration
  mail:
    host: ${SMTP_HOST:smtp.gmail.com}
    port: ${SMTP_PORT:587}
    username: ${SMTP_USERNAME:}
    password: ${SMTP_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000

server:
  port: 8080

# Tempest-specific configuration
tempest:
  notification:
    from-email: ${NOTIFICATION_FROM_EMAIL:noreply@tempest.local}
    from-name: ${NOTIFICATION_FROM_NAME:Tempest Weather Alerts}

  twilio:
    enabled: ${TWILIO_ENABLED:false}
    account-sid: ${TWILIO_ACCOUNT_SID:}
    auth-token: ${TWILIO_AUTH_TOKEN:}
    from-number: ${TWILIO_FROM_NUMBER:}

  alerts:
    default-cooldown: ${ALERT_DEFAULT_COOLDOWN:60}
    checking-enabled: ${ALERT_CHECKING_ENABLED:true}
    history-retention-days: ${ALERT_HISTORY_RETENTION_DAYS:90}

# Logging
logging:
  level:
    com.tempest: DEBUG
    org.springframework: INFO

